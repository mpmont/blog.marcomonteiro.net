<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Blog++ | Atomic commits</title>
    <!--Meta Desc-->
    <meta name="keywords" content="Git,tips,Version-control"/>
    <meta name="description" content="I'm sure this happened to you before, more than one time actually. You have a big file, you changed lots of stuff in it, but those changes are not really"/>
    <meta name="subject" content="Web development & Linux Stuff">
    <meta name="copyright"content="Marco Monteiro">
    <meta name="language" content="EN">
    <meta name="robots" content="index,follow" />
    <meta name="Classification" content="Blog">
    <meta name="author" content="Marco Monteiro, marco@marcomonteiro.net">
    <meta name="designer" content="marco@marcomonteiro.net">
    <meta name="owner" content="Marco Monteiro">
    <meta name="url" content="https://blog.marcomonteiro.net">
    <meta name="identifier-URL" content="https://blog.marcomonteiro.net">
    <meta name="coverage" content="Worldwide">

    <!--Meta Facebook-->
    <meta property="og:image" content="https://blog.marcomonteiro.net/assets/img/facebooklogo.jpg"/>
    <meta property="og:title" content="Blog++ | Atomic commits"/>
    <meta property="og:description" content="I'm sure this happened to you before, more than one time actually. You have a big file, you changed lots of stuff in it, but those changes are not really"/>
    <meta property="og:url" content="https://blog.marcomonteiro.net"/>
    <meta property="og:site_name" content="Blog++"/>
    <meta property="og:type" content="blog"/>

    <!--Meta Twitter-->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@marcogmonteiro">
    <meta name="twitter:title" content="Blog++ | Atomic commits">
    <meta name="twitter:description" content="I'm sure this happened to you before, more than one time actually. You have a big file, you changed lots of stuff in it, but those changes are not really">
    <meta name="twitter:creator" content="@marcogmonteiro">
    <meta name="twitter:domain" content="blog.marcomonteiro.net">

    <link rel="start" href="https://blog.marcomonteiro.net/" title="Marco Monteiro Blog">
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
    <!-- Styles -->
    <link href='https://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT' rel='stylesheet' type='text/css'/>
    <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link rel="stylesheet" href="/assets/css/github.css" />
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
</head>

  <body>
    <div class="container">
        <!-- nav -->
        <header>
    <h1><a href="https://blog.marcomonteiro.net">$blog++</a></h1>
    <nav class="main">
        <h1 class="mobile"><a href="https://blog.marcomonteiro.net">$blog++</a></h1>
        <span class="mobile-trigger">
            <a class="navicon-button x">
                <div class="navicon"></div>
            </a>
        </span>
        <ul>
            
                
                   <li><a href="/">Posts</a></li>
                
            
                
                   <li><a href="/about">• About</a></li>
                
            
            <li><a target="_blank" href="https://marcomonteiro.net">&bull; Website</a></li>
            <li><a href="javascript:void(0)" id="search" class="search ir" title="Search">&bull; <i class="icon-search"></i> Search</a></li>
            <div id="searchbar" style="display:none;">
                <iframe src="https://duckduckgo.com/search.html?site=blog.marcomonteiro.net&prefill=Search" style="overflow:hidden;margin:0;padding:0;width:408px;height:40px;" frameborder="0"></iframe>
            </div>
        </ul>
    </nav>
</header>
        <div class="content">
            <div id="scrollbubble"></div>
            <section class="post">
                <h2 class="flipboard-title title">Atomic commits</h2>
                <div class="date flipboard-date">November 04, 2013 <i class="icon-user"></i> Written By Marco Monteiro</div>
                <p>I’m sure this happened to you before, more than one time actually. You have a big file, you changed lots of stuff in it, but those changes are not really related. One may be related to one class and the other to something completely different. Normally you should avoid that, your commits should <em>always</em> be specific to one task, feature or bug. If you do a small search about how to commit better you’ll see that even the commit messages should have this notion.</p>

<!--more-->

<p>Your commit message should look something like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Explain in one line what the commit is about (Issue number if possible)

Describe the problem the commit solves.
Justify why you chose the particular solution.
Reference the issue number if not addressed in the title.
</code></pre></div></div>

<p>So if you’re solving a bunch of problems in the same commit, your commit messages will tend to go off-road.</p>

<p>Ideally you want to separate those changes into different commits and there’s only one way (that I know of) to do that.</p>

<p>Let’s look at the git add command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add [-n] [-v] [--force | -f] [--interactive | -i] [--patch | -p]
[--edit | -e] [--[no-]all | --[no-]ignore-removal | [--update | -u]]
[--intent-to-add | -N] [--refresh] [--ignore-errors] [--ignore-missing][--] [&lt;pathspec&gt;...]
</code></pre></div></div>

<p>The one we’re looking for is <strong><em>git add -p</em></strong></p>

<blockquote>
  <p>-p
–patch
Interactively choose hunks of patch between the index and the work tree and add them to the index. This gives the user a chance to review the difference before adding modified contents to the index.
This effectively runs add –interactive, but bypasses the initial command menu and directly jumps to the patch subcommand. See “Interactive mode” for details.</p>
</blockquote>

<p>The <strong><em>-p</em></strong> flag is not only available for <strong><em>git add</em></strong> but also for <strong><em>git checkout</em></strong> (I haven’t used this one yet).</p>

<blockquote>
  <p>This means that you can use git checkout -p to selectively discard edits from your current working tree. See the “Interactive Mode” section of git-add(1) to learn how to operate the –patch mode.</p>
</blockquote>

<p>Personally I have used the <strong><em>git add -p</em></strong> flag without even know about it when using a Git GUI. But sometimes you just need to go old school and use the terminal.</p>

<p><i class="icon-external-link"></i> <a href="http://git-scm.com/docs/git-add">Git add reference</a></p>

<p><i class="icon-external-link"></i> <a href="http://git-scm.com/docs/git-checkout">Git checkout reference</a></p>

                <ul id="tags" class="tags">
                    
                    
                        <li><a href="#"><i class="icon-tag"></i> Git</a></li>
                        &nbsp;
                    
                        <li><a href="#"><i class="icon-tag"></i> tips</a></li>
                        &nbsp;
                    
                        <li><a href="#"><i class="icon-tag"></i> Version-control</a></li>
                        
                    
                </ul>
                <br>
            </section>
            <div id="tweet_it">
                <a href="javascript:void(0)" id="tweet_compose_close" class="close_it">x</a>
                <h4>Like it? Tweet it.</h4>
                <p>"Atomic commits" via <a href="http://twitter.com/marcogmonteiro">@marcogmonteiro</a><br>
                    <a href="https://twitter.com/share" data-count="horizontal" data-count="none" data-related="marcogmonteiro" data-via="marcogmonteiro" class="twitter-share-button" data-lang="en">Tweet</a>
                  <br>
                </p>
                <footer>
                    <a href="https://twitter.com/marcogmonteiro" class="twitter-follow-button" data-show-screen-name="false" data-show-count="true" data-lang="en">Follow me!</a>
                    <img class="avatar" src="https://www.gravatar.com/avatar/44a64ea13da9db6c694e9c26b191a0af?s=28">
                </footer>
            </div>
            <footer>
    <br>
    <p>
        <a href="https://twitter.com/marcogmonteiro"><i class="icon-twitter"></i></a>
        <a href="https://github.com/mpmont"><i class="icon-github-alt"></i></a>
        <a href="/feed.xml"><i class="icon-rss"></i></a> © 2010 — 2020
        <a href="http://marcomonteiro.net" target="_blank">Marco Monteiro</a>. All Rights Reserved. Powered by
        <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>
    </p>
</footer>
        </div>
        <script src="/assets/js/site.js"></script>
  </body>
</html>
